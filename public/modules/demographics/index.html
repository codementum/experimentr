
<div id="demographics">
<p id="demoinstr">
Thank you! The experiment is almost complete. Please fill out the following demographics form.
</p>

<div id="age">Your age:
    <div id="ages">
        <input type="radio" id="a1" name="age" value="18-25"> 18-25
        <input type="radio" id="a2" name="age" value="25-39"> 25-39
        <input type="radio" id="a3" name="age" value="40-49"> 40-49
        <input type="radio" id="a4" name="age" value="50-59"> 50-59
        <input type="radio" id="a5" name="age" value="60+"> 60+
        <input type="radio" id="a6" name="age" value="Unspecified"> Unspecified
    </div>
</div>
<br>
<div id="sex">Your gender:
    <div id="sexes">
        <input type="radio" id="s1" name="sex" value="Male"> Male
        <input type="radio" id="s2" name="sex" value="Female"> Female
        <input type="radio" id="s3" name="sex" value="Unspecified"> Unspecified
    </div>
</div>
<br>
<div id="degree">Highest degree obtained:
    <div id="degrees">
        <input type="radio" id="d1" name="degree" value="High School"> High School
        <input type="radio" id="d2" name="degree" value="Bachelors"> Bachelors
        <input type="radio" id="d3" name="degree" value="Masters"> Masters
        <input type="radio" id="d4" name="degree" value="PhD"> PhD
        <input type="radio" id="d5" name="degree" value="Other"> Other
    </div>
</div>
<br>
<div id="monitor">Your monitor size is closest to:
    <div id="monitors">
        <input type="radio" id="m4" name="monitor" value="9 or smaller"> 9" or smaller
        <input type="radio" id="m4" name="monitor" value=11> 11"
        <input type="radio" id="m4" name="monitor" value=13> 13"
        <input type="radio" id="m4" name="monitor" value=15> 15"
        <input type="radio" id="m4" name="monitor" value=17> 17"
        <input type="radio" id="m4" name="monitor" value=19> 19"
        <input type="radio" id="m4" name="monitor" value=21> 21"
        <input type="radio" id="m5" name="monitor" value="23 or larger"> 23" or larger
        <input type="radio" id="m5" name="monitor" value="dontknow"> I'm not sure
    </div>
</div>
<br>
</div>

<script> 
(function() {
  var data = {};

  experimentr.startTimer('demo');

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'age' ? this : null; })
  .on('change', function() { data.age = this.value; validate(); });
  
  d3.selectAll('input')
  .filter(function(d) { return this.name === 'sex' ? this : null; })
  .on('change', function() { data.sex = this.value; validate(); });
  
  d3.selectAll('input')
  .filter(function(d) { return this.name === 'degree' ? this : null; })
  .on('change', function() { data.degree = this.value; validate(); });
  
  d3.selectAll('input')
  .filter(function(d) { return this.name === 'monitor' ? this : null; })
  .on('change', function() { data.monitor = this.value; validate(); });
  
  function validate() {
	  if(data.age && data.sex && data.degree && data.monitor) {
	    experimentr.endTimer('demo');
	    experimentr.addData(data);
	    experimentr.release();
	  }
	}
}());
</script>
